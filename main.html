<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
</head>

<body>
    <div id="app">
        <v-app>
          <v-main>
              <div class="container">
              
            <v-container>Hello world</v-container>
            <p>{{Question}}</p>
            <!-- <p>{{List.AnsA}}</p>
            <v-btn elevation="2" outlined @click="getMemberList">一覧</v-btn>
            <v-btn elevation="4" outlined x-large>large</v-btn>
            <v-btn elevation="5" x-large color="success" dark>Extra large Button</v-btn> -->
            <p><br>
            <v-btn @click="checkA" type="button"  elevation="4" outlined x-large>A</v-btn>
            <v-btn @click="checkA" type="button"  elevation="4" outlined x-large>B</v-btn>
            <v-btn @click="checkA" type="button"  elevation="4" outlined x-large>C</v-btn>
            <v-btn @click="checkA" type="button"  elevation="4" outlined x-large>D</v-btn></p>
                <p>{{Correct}}</p>
                <p>{{Answers}}</p>
            </div>
          </v-main>
        </v-app>
      </div>
        
        <script>

        let url = "https://script.google.com/macros/s/AKfycbyJMpTFY3TtzksiA55STjkx5dp4m3MCRWdQC8bocTgMDLFR98ht/exec";
            new Vue({
                    el: '#app',
                    vuetify: new Vuetify(),
                    data: {
                        Question: '',
                        Correct: '',
                        Answers: '',
                        List:''
                    },
        
                    created() {
                            let i = Math.floor( Math.random() * 14 );
                            axios.get(url)
                            .then(res => {
                                this.Question = res.data[i].Qui
                                this.Correct = res.data[i].AnsA
                                this.Answers = [res.data[i].AnsA, res.data[i].AnsB, res.data[i].AnsC, res.data[i].AnsD]
                                
                                //this.Answers = res.data[i].AnsC

                            })
                            .catch(res => console.log(res))
                            Answers.push(List.AnsA)
                    },
                    
                    });
                    let score = 0;

                    const $button = document.getElementsByTagName("button");

                    const setupQuiz = () =>
                    {
            
                        for(let i = 0; i < 3; i++)
                        {
                            $button[i].textContent = data.Answers[i];
                        }
                    };
                    setupQuiz();
                    const clickHandler = (e) =>
                    {
                        if(Correct === e.target.textContent)
                        {
                            window.alert("正解");
                            score++;
                        }
                        else
                        {
                            window.alert("不正解");
                        }

                        quizIndex++;

                        if(quizIndex < 5)
                        {
                            setupQuiz(quizIndex);
                        }
                        else
                        {
                            window.alert("お　わ　り " + score + "問正解です");
                            location.href = '/.';
                        }
                    };

                    const handlerIndex = () =>
                    {
                        for(let i = 0; i < $button.length; i++)
                        {
                            $button[i].addEventListener("click", (e) => 
                            {
                                clickHandler(e);
                            });
                        }
                    };

                    handlerIndex();
                                        
        </script>

<style>
    .container
    {
        text-align: center;
       font-size: 15pt;
    }
    .btn
    {
        color: cornflowerblue;
    }
</style>
</body>
</html>
